<% provide :title, t("explorer.index.discover") %>

<div class="container-fluid header-block">
  <h1 class="text-capitalize">
    <%= t "explorer.index.discover" %>
  </h1>
</div>
<div class="container explorer">
  <div class="row">
    <div class="col-sm-12">
      <h1 class="text-uppercase">
        <%= t "explorer.index.categories" %>
        <%= link_to t("explorer.index.see_all"),
          categories_path, class: "text-lowercase pull-right",
          "data-turbolinks": false %>
      </h1>
      <hr>
    </div>
    <div class="row">
      <% @categories.each do |category| %>
        <div class="col-sm-4 item">
          <div class="row">
            <div class="col-sm-4">
              <%= link_to category, "data-turbolinks": false do %>
                <div class="box pmd-z-depth" style="background-image: url(<%= category.image.thumb %>)">
                </div>
              <% end %>
            </div>
            <div class="col-sm-8">
              <h3><%= link_to category.title, category, "data-turbolinks": false  %></h3>
              <h4>
                <%= category.child_categories.present? ? category
                  .total_books : category.books.size %> <%= t "explorer.index.books" %>
              </h4>
            </div>
          </div>
        </div>
    <% end %>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-sm-12">
      <h1 class="text-uppercase">
        <%= t "explorer.index.tags" %>
        <%= link_to t("explorer.index.see_all"),
          tags_path, class: "text-lowercase pull-right", "data-turbolinks": false %>
      </h1>
      <hr>
    </div>
    <div class="row tags">
      <% @tags.each do |tag| %>
        <%= link_to tag, "data-turbolinks": false do %>
          <div class="pmd-chip pmd-chip-no-icon">
            <%= tag.title %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
